Weather
=======

Overview
--------

Weather is a simple script that runs via cron to grab images from NOAA's geostationary satellite and compile monthly videos.

It also has the ability to automatically upload the monthly videos to a YouTube account.

This script is used to generate the videos for the [NOAA Geostationary Satellite](http://www.youtube.com/user/noaagoes) channel on YouTube.

Installation
------------

There are two steps to get up and running:

1. Configure settings.php
2. Run via cron

Copy settings.default.php to settings.php and edit it to fill in the necessary settings. The most important ones are `content` (the directory to save images and videos into) and `log` (the logs directory).

Once that's done, add `cron.php` to your crontab so that it runs after new images are generated by NOAA. The following example crontab will run on every 10th, 20th, 30th, and 40th minute of every hour, ensuring that the two images that are created each hour are downloaded. In this example, the weather script is set up in the user's home directory, in a subdirectory called 'weather'.

    10,20,30,40 * * * * ~/weather/cron.php

YouTube Upload
--------------

To upload videos, add your YouTube login credentials to setting.php and set `$weather_settings['youtube']['upload']` to `TRUE`.

Videos are uploaded to YouTube via the 'youtube-upload' python script. See https://github.com/tokland/youtube-upload for installation instructions.

The dependencies for that script can be installed (on Ubuntu) with the following command:

    sudo apt-get install python-pip python-gdata imagemagick ffmpeg

Sometimes the YouTube upload fails, so as a backup the script will write the upload command to a log file, which can be run manually from the root of the script's directory.
